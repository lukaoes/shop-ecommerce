import { FC, useState } from 'react'
import Product1 from '../../../assets/images/ImageSectionFour.jpg'
import Product2 from '../../../assets/images/ImagesSectionOne.jpg'
import CartProduct, { ICartProduct } from './CartProduct'
import {
  CardModalPrice,
  CartModalContainer,
  CartModalFooter,
  CartModalHeader,
  CartModalInsideContainer,
  CartModalLayout,
  CartModalProductsHolder,
} from './styled'
import ShippingProgress from '../../../assets/images/ShippingProgress.png'
import { Link } from 'react-router-dom'

interface IProps {
  open: boolean
  onClose: () => void
}

const CartModal: FC<IProps> = ({ open, onClose }) => {
  const [products] = useState<ICartProduct[]>([
    {
      title: 'bluebell hand block ',
      price: 40,
      img: Product1,
    },
    {
      title: 'Embroidered Floral',
      price: 32.2,
      img: Product2,
    },
    {
      title: 'Embroidered Floral',
      price: 65.2,
      img: Product1,
    },
  ])

  return (
    <CartModalContainer className={open ? 'open' : ''}>
      <CartModalLayout onClick={() => onClose()}></CartModalLayout>
      <div className={open ? 'open cart' : 'cart'}>
        <CartModalInsideContainer>
          <CartModalHeader>
            <svg
              onClick={() => onClose()}
              width="50"
              height="50"
              viewBox="0 0 50 50"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M37.5 12.5L12.5 37.5"
                stroke="white"
                strokeWidth="1.25"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M12.5 12.5L37.5 37.5"
                stroke="white"
                strokeWidth="1.25"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            <h1>Shopping Cart</h1>
            <div>
              <span>{products.length}</span>
            </div>
          </CartModalHeader>
          <p>
            {products.length === 0 ? 'You have 0 products in your cart.' : ''}
          </p>
          <CartModalProductsHolder>
            {products.map((item, index) => (
              <CartProduct key={`cart-product-${index}`} {...item} />
            ))}
          </CartModalProductsHolder>
          <CardModalPrice>
            <span>Subtotal: </span>
            <span>300.00$</span>
          </CardModalPrice>
          <CartModalFooter>
            <div>
              <svg
                width="51"
                height="50"
                viewBox="0 0 51 50"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M40.9688 6.45312C42.3919 6.45312 43.5469 7.60812 43.5469 9.03125C43.5469 9.50562 43.9319 9.89062 44.4062 9.89062C44.8806 9.89062 45.2656 9.50562 45.2656 9.03125C45.2656 6.65937 43.3406 4.73438 40.9688 4.73438C40.4944 4.73438 40.1094 5.11938 40.1094 5.59375C40.1094 6.06813 40.4944 6.45312 40.9688 6.45312Z"
                  fill="black"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M31.3648 40.8285H30.6566C29.2326 40.8285 28.0785 41.9826 28.0785 43.4066V46.8441C28.0785 48.2681 29.2326 49.4222 30.6566 49.4222H34.0941C34.7541 49.4222 35.3565 49.1739 35.8129 48.7657C36.2692 49.1739 36.8716 49.4222 37.5316 49.4222H47.8441C49.2681 49.4222 50.4223 48.2681 50.4223 46.8441V36.5316C50.4223 35.1076 49.2681 33.9535 47.8441 33.9535H37.5316C36.1076 33.9535 34.9535 35.1076 34.9535 36.5316V40.9754C34.6845 40.8801 34.3958 40.8285 34.0941 40.8285H33.3164L27.6978 30.3931L38.391 19.6999V31.3754C38.391 31.8497 38.776 32.2347 39.2504 32.2347C39.7248 32.2347 40.1098 31.8497 40.1098 31.3754V30.7248L43.6512 27.1825C44.6576 26.177 44.6576 24.5425 43.6512 23.537C42.6793 22.5642 41.1212 22.5315 40.1098 23.4382V17.9812L46.9796 11.1113C48.0598 10.0311 48.7954 8.65607 49.0954 7.15904C49.336 5.95334 49.6437 4.41678 49.8997 3.13459C50.069 2.28896 49.8044 1.41498 49.1951 0.805684C48.5858 0.196388 47.7118 -0.0682997 46.8662 0.100997C45.584 0.357091 44.0474 0.664745 42.8417 0.90537C41.3447 1.20529 39.9697 1.94091 38.8894 3.02115L32.0196 9.891H26.1329C27.0395 8.87951 27.0069 7.32146 26.034 6.34951C25.0286 5.34318 23.394 5.34318 22.3886 6.34951L18.8462 9.891H16.2501C17.1567 8.87951 17.124 7.32146 16.1512 6.34951C15.1458 5.34318 13.5112 5.34318 12.5058 6.34951L8.96341 9.891H3.15663C1.97584 9.891 0.945457 10.6937 0.656707 11.8392C0.367957 12.9839 0.894753 14.1793 1.9346 14.7387L18.3383 23.5722L11.3946 30.516H3.15663C1.99819 30.516 0.981555 31.2894 0.67218 32.4058C0.362805 33.5229 0.836308 34.7089 1.82975 35.3044L5.47092 37.489C4.47834 39.1261 3.66881 40.8732 3.05951 42.7002L2.76216 43.5931L2.10648 44.2488C1.47828 44.877 1.05976 45.6848 0.909369 46.5605C0.765853 47.3976 0.590539 48.4176 0.590539 48.4176C0.543273 48.6926 0.632641 48.9737 0.830297 49.1704C1.02709 49.3681 1.30812 49.4575 1.58312 49.4102L3.44021 49.0914C4.31591 48.941 5.12373 48.5225 5.75193 47.8943L6.40763 47.2394L7.30139 46.9412C9.12842 46.3319 10.8755 45.5224 12.5118 44.5307L14.6963 48.171C15.2919 49.1644 16.4778 49.6379 17.595 49.3286C18.7113 49.0192 19.4848 48.0026 19.4848 46.8441V38.6062L26.4285 31.6624L31.3648 40.8285ZM45.266 35.6722V37.2191C45.266 37.721 45.0666 38.2014 44.7126 38.5563C44.3576 38.9104 43.8764 39.1097 43.3754 39.1097H42.0004C41.4994 39.1097 41.0181 38.9104 40.6632 38.5563C40.3091 38.2014 40.1098 37.721 40.1098 37.2191V35.6722H37.5316C37.0573 35.6722 36.6723 36.0572 36.6723 36.5316V46.8441C36.6723 47.3185 37.0573 47.7035 37.5316 47.7035H47.8441C48.3185 47.7035 48.7035 47.3185 48.7035 46.8441V36.5316C48.7035 36.0572 48.3185 35.6722 47.8441 35.6722H45.266ZM30.6566 42.5472H34.0941C34.5685 42.5472 34.9535 42.9322 34.9535 43.4066V46.8441C34.9535 47.3185 34.5685 47.7035 34.0941 47.7035H30.6566C30.1823 47.7035 29.7973 47.3185 29.7973 46.8441V43.4066C29.7973 42.9322 30.1823 42.5472 30.6566 42.5472ZM17.766 40.3249L17.3767 40.7142C16.318 41.7729 15.1716 42.7346 13.9521 43.5905L16.1701 47.2867C16.3687 47.6176 16.764 47.7757 17.1361 47.6726C17.5082 47.5694 17.766 47.23 17.766 46.8441V40.3249ZM3.14975 47.3976L2.49062 47.5101L2.60318 46.851C2.69341 46.3251 2.94435 45.8412 3.32161 45.464L9.42405 39.3615C9.7592 39.0264 10.304 39.0264 10.6392 39.3615C10.9744 39.6967 10.9744 40.2415 10.6392 40.5767L4.53677 46.6791C4.15951 47.0564 3.67569 47.3073 3.14975 47.3976ZM9.38966 44.2574C11.8982 43.0775 14.191 41.4687 16.1615 39.4982L45.7644 9.89615C46.604 9.05568 47.1764 7.98662 47.4093 6.82217L48.2145 2.79772C48.2712 2.51584 48.1827 2.22451 47.9799 2.02084C47.7762 1.81803 47.4849 1.72951 47.203 1.78623L43.1786 2.59146C42.0141 2.82435 40.9451 3.3967 40.1046 4.23631L25.6044 18.7365C25.2692 19.0717 24.7244 19.0717 24.3892 18.7365C24.054 18.4014 24.054 17.8565 24.3892 17.5214L30.3008 11.6097H3.15663C2.76303 11.6097 2.41928 11.877 2.32303 12.2594C2.22678 12.641 2.40295 13.0389 2.74928 13.2254L19.6076 22.3029L21.9589 19.9517C22.294 19.6165 22.8389 19.6165 23.174 19.9517C23.5092 20.2869 23.5092 20.8317 23.174 21.1669L10.5026 33.8383C8.53202 35.8089 6.92411 38.1017 5.74419 40.6111L8.20889 38.1464C9.21436 37.1401 10.8489 37.1401 11.8544 38.1464C12.8607 39.1519 12.8607 40.7864 11.8544 41.7919L9.38966 44.2574ZM43.5473 35.6722V37.2191C43.5473 37.2647 43.5292 37.3085 43.4966 37.3412C43.4648 37.373 43.4209 37.391 43.3754 37.391H42.0004C41.9548 37.391 41.911 37.373 41.8792 37.3412C41.8465 37.3085 41.8285 37.2647 41.8285 37.2191V35.6722H43.5473ZM9.67584 32.2347H3.15663C2.77077 32.2347 2.43132 32.4926 2.3282 32.8647C2.22507 33.2368 2.38318 33.6321 2.71404 33.8306L6.41107 36.0487C7.26529 34.8301 8.2278 33.6828 9.28741 32.6232L9.67584 32.2347ZM40.1098 28.2937V25.8633L41.2209 24.7522C41.5561 24.417 42.1009 24.417 42.4361 24.7522C42.7712 25.0873 42.7712 25.6322 42.4361 25.9673L40.1098 28.2937ZM13.8249 9.891H11.3946L13.7209 7.56467C14.0561 7.22951 14.6009 7.22951 14.9361 7.56467C15.2712 7.89982 15.2712 8.44467 14.9361 8.77983L13.8249 9.891ZM23.7077 9.891H21.2774L23.6037 7.56467C23.9389 7.22951 24.4837 7.22951 24.8189 7.56467C25.154 7.89982 25.154 8.44467 24.8189 8.77983L23.7077 9.891Z"
                  fill="black"
                />
              </svg>
              <div>
                <h5>Congratulations, you have got free shipping!</h5>
                <img src={ShippingProgress} alt="shipping progress" />
              </div>
            </div>

            <div>
              <Link to="/checkout" onClick={() => onClose()}>
                Checkout
              </Link>
              <Link to="/cart" onClick={() => onClose()}>
                View Cart
              </Link>
            </div>
          </CartModalFooter>
        </CartModalInsideContainer>
      </div>
    </CartModalContainer>
  )
}

export default CartModal
